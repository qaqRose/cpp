## 循环与关系表达式

#### 递增运算符与递减运算符
递增运算符（++） 和 递减运算符（--），这两个运算符将计数值加1，当然也可以是其他变量的加一操作，例如指针。

> 这两个运算符分别有两个种变体，前缀(prefix)版本位于操作数前面，如 ++ x; 后缀(postfix)版本位于操作数后面，如x ++

这两种版本对操作的影响是一样的，但是影响的时间不同
```
a = 20;
b = 20;
y = ++a;   //a=21, y=21
z = b++;   //b=21, z=20
```
上面的例子中，a 和 b 都加一，所以前缀跟后缀对操作数的影响都是一样的，但是因为++ a,是先改变操作数，然后再进行赋值操作，所以 y 也是21，而后缀 b ++ 是先进行赋值操作，然后再递增，所以z 是20


#### 副作用与顺序点

> **副作用**（side effect）是指计算表达式时，对某些东西（如存储在变量的值）进行一些修改

> **顺序点**(sequence point) 是程序执行过程的一个点，在这里，进行下一步之前确保对所有的副作用都进行评估，在c++中，分号; 就是一个顺序点

所以，赋值运算符、递增运算符、递减运算符执行的所有修改都在顺序点结束前完成，而且，任何完整的表达式末尾都是一个顺序点

```
while(i++ <10){
    cout<< i << endl;
}
```
上面栗子中，i++ < 10 是一个完整表达式，因为它是一个while循环到测试条件，因此该表达式的末尾是一个顺序点，所以 i先跟10比较，然后i自增，然后再输出。
**而不是输出后再自增**

```
y = (4 + x++) + (6 + x++)
```
表达式 4 + x++ 并不是一个完整表达式，所以**c ++不保证x的值在计算子表达式4 + x ++ 后立刻加1**
应该避免这样的写法


#### 递增/递减运算符与指针

1. 前缀递增（++x）、前缀递减（--x） 和 解除引用（*）运算符的优先级是相同的，以 **从右到左的方式进行结合**
2. 后缀递增、后缀递减 运算符的优先级相同，但是**比前缀的高**，以从左到右的方式进行结合

```
int arr[5] = {1,2,3,4,5};
int * pt = arr; //point to arr[0]
++ pt ;         // point to arr[1]
```
我们可以结合这些运算符和*运算符来修改指针指向的值
```
*++pt;    // arr[2]
```
由于前缀表达式跟解除引用的优先级相同，而且以从右到左的方式结合，所有先将pt指针加1操作，然后解除引用获取指针指向的值

```
++*pt;
```
如果是这种情况， 将先取得pt指向的值，然后将这个值加1
下面来一个例子

```
// *pt = 2
x = *pt++; // x=2 , *pt = 3

```
由于 后缀递增运算符的优先级比 解除引用运算符的优先级高 ，所以++运算符将会和pt结合,而不是*pt。
但是，因为 **后缀表达式会在赋值操作过后才对操作数进行加1操作**，
所以x 等于原来的地址指向的值，然后指针再加1

```
#include<iostream>
using namespace std;
int main(){
	int a[3] = {1,2,3};
	int * pa = a;
	int x ,y;

	cout<<*pa<<endl;   // 1

	x = *pa++;           //  x = *pa ,then pa+1
	cout<<*pa<<endl;    // 2
	cout<<x<<endl;      // 1

	y = *++pa;          // pa+1 then y = *pa
	cout<<*pa<<endl;    //3
	cout<<y<<endl;      //3


	return 0;
}

```
